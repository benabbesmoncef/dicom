<!-- dialog-box.component.html -->
<h1 mat-dialog-title><strong>{{action}}</strong> Examan </h1>

<div mat-dialog-content *ngIf="action != 'Supprimer'; else elseTemplate">


  <mat-form-field >
    <!--<input placeholder="{{action}} Type d'examen" matInput [(ngModel)]="local_data.examen_type"/>-->
    <mat-select placeholder="{{action}} Type d'examen" [(ngModel)]="local_data.examen_type">
      <mat-option *ngFor="let typeExam of typesExams" [value]="typeExam.value" >
        {{typeExam.viewValue}}
      </mat-option>
    </mat-select>
  </mat-form-field>


  <mat-form-field *ngIf="medecinList">
    <!-- <input placeholder="{{action}} Medecin" matInput [(ngModel)]="local_data.medecin"/>-->
    <mat-select placeholder="{{action}} Medecin" [(ngModel)]="local_data.medecin">
      <mat-option  *ngFor="let med of medecinList" [value]="med.id">
        {{med.first_name}} {{med.last_name}}
      </mat-option>
    </mat-select>
  </mat-form-field>


  <!--  <mat-form-field >
          <mat-card>
          <mat-card-content>
            <ul>
              <li *ngFor="let file of files">
                <mat-progress-bar [value]="file.progress"></mat-progress-bar>
                <span id="file-label">
                </span>
              </li>
            </ul>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button color="warn" (click)="onClick()">
              <mat-icon>file_upload</mat-icon>
              Upload
            </button>
          </mat-card-actions>
          </mat-card><input type="file" #fileInput id="fileUpload" [(ngModel)]="local_data.File" name="fileUpload" multiple="multiple" accept="image/*" style="display:none;"/>
    </mat-form-field>-->

  <!--  <mat-form-field >
  &lt;!&ndash;    <ngx-mat-file-input [formControl]="fileControl" placeholder="{{action}} File"
                          (change)="uploadFile($event)"
                          multiple="multiple" accept="application/dicom"
                          [color]="" [(ngModel)]="local_data.File">
        <mat-icon ngxMatFileInputIcon>folder</mat-icon>
      </ngx-mat-file-input>&ndash;&gt;
  &lt;!&ndash;
      <input type="file"  [formControl]="fileControl" placeholder="{{action}} File "  ng2FileSelect [uploader]="uploader" multiple [(ngModel)]="local_data.File" />
  &ndash;&gt;
      <form [formGroup]="form">
      <ngx-mat-file-input type="file" ng2FileSelect [uploader]="uploader" placeholder="{{action}} File "
                          multiple accept="application/dicom" enctype="multipart/form-data"
                          [color]="">

        <mat-icon ngxMatFileInputIcon>folder</mat-icon>

      </ngx-mat-file-input>
    </form>

    </mat-form-field>-->

  <input type="file"  placeholder="{{action}} File "  ng2FileSelect [uploader]="uploader" multiple [(ngModel)]="local_data.File"
         multiple accept="application/dicom" enctype="multipart/form-data"/>
  <br>
  <h2>Your files: {{ uploader?.queue?.length }}</h2>
  <ul>
    <li *ngFor="let item of uploader.queue">
      {{ item?.file?.name }}
    </li>
  </ul>
  <br>
  <!--  <mat-form-field >
      <input placeholder="{{action}} Compte Rendu " matInput [(ngModel)]="local_data.examen_compte_rendu"/>
    </mat-form-field>-->

</div>

<ng-template #elseTemplate>
  Sure to delete <b>{{local_data.examen_type}} Numero {{local_data.pk}}</b>?
</ng-template>

<div mat-dialog-actions>
  <button mat-button (click)="doAction()" >{{action}}</button>
  <button mat-button (click)="closeDialog()" mat-flat-button color="warn">Cancel</button>
</div>
